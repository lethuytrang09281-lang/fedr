# TASKS.md ‚Äî –ó–∞–¥–∞—á–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
# –ß–∏—Ç–∞—Ç—å –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É. CLAUDE.md ‚Äî –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞.

## TASK-001..013 ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (—Å–º. –∏—Å—Ç–æ—Ä–∏—é –≤ Claude.md)

## TASK-014: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ –≤ –ø–∞–π–ø–ª–∞–π–Ω–µ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 25.02.2026

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- `get_message_ids_by_type` ‚Äî –æ—Ç—Å–µ–∫–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ç–∞—Ä—à–µ `published_after` –ø–æ –ø–æ–ª—é `"date"` (—Ñ–æ—Ä–º–∞—Ç "16.10.2025 14:48:09") –¥–æ –≤—ã–∑–æ–≤–∞ `get_message`
- `_filter_lot` ‚Äî –æ—Ç—Å–µ–∫–∞–µ—Ç –ª–æ—Ç—ã –≥–¥–µ `trade_app_end_date` < `now(UTC)`. –ï—Å–ª–∏ –ø–æ–ª–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –Ω–µ –æ—Ç–±—Ä–∞–∫–æ–≤—ã–≤–∞–µ—Ç—Å—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: —Å—á—ë—Ç—á–∏–∫–∏ `messages_filtered_by_date` –∏ `lots_filtered_by_end_date` –≤ –∏—Ç–æ–≥–∞—Ö –ø–æ–∏—Å–∫–∞

---

---

## üî¥ –ë–≠–ö–õ–û–ì

## TASK-015: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–æ–±—â–µ–Ω–∏–π –ï–§–†–°–ë (–∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è + –æ—Ü–µ–Ω–∫–∞) ‚Äî –í–æ—Ä–æ–Ω–∫–∞ 1
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** TASK-014
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π —Ç–∏–ø–æ–≤ "–∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –∏–º—É—â–µ—Å—Ç–≤–∞" / "–æ—Ç—á—ë—Ç –æ—Ü–µ–Ω—â–∏–∫–∞"
  —á–µ—Ä–µ–∑ `get_org_messages` —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Ç–∏–ø—É —Å–æ–æ–±—â–µ–Ω–∏—è
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –≤ —Ç–∞–±–ª–∏—Ü–µ `messages` –ø–æ—è–≤–ª—è—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ —Ç–∏–ø–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è/–æ—Ü–µ–Ω–∫–∞ –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–∏–º –¥–æ–ª–∂–Ω–∏–∫–∞–º

## TASK-016: –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å cadastral_index ‚Üí —Ç–∞–±–ª–∏—Ü–∞ leads
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** TASK-015
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞,
  —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—Ç—å —Å cadastral_index (584k –∑–∞–ø–∏—Å–µ–π), –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚Üí —Å–æ–∑–¥–∞–≤–∞—Ç—å lead
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** `SELECT COUNT(*) FROM leads;` > 0 –ø–æ—Å–ª–µ —Ü–∏–∫–ª–∞

## TASK-017: Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è leads
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** TASK-016
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –†–∞—Å—à–∏—Ä–∏—Ç—å notifier.py ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è lead (–Ω–µ –ª–æ—Ç),
  –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å: –¥–æ–ª–∂–Ω–∏–∫, —Å—Ç–∞–¥–∏—è (–∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è/–æ—Ü–µ–Ω–∫–∞), –æ–±—ä–µ–∫—Ç, –∫–∞–¥–∞—Å—Ç—Ä, —Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–µ–ª–æ
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ Telegram —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º

## TASK-018: –ü–æ—Ä—è–¥–æ–∫ –≤ git –∏ skills
- **–°—Ç–∞—Ç—É—Å:** üü° –≤ —Ä–∞–±–æ—Ç–µ
- **–ê–≥–µ–Ω—Ç:** MiniMax M2.5
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å master, —É–±—Ä–∞—Ç—å –¥—É–±–ª–∏ –≤ skills/
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** git status —á–∏—Å—Ç—ã–π, –æ–¥–∏–Ω master, skills/ –±–µ–∑ –¥—É–±–ª–µ–π

## TASK-BUG-001: –£–¥–∞–ª–∏—Ç—å document_model.py
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** MiniMax M2.5
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å /root/fedr/src/database/document_model.py ‚Äî –¥—É–±–ª–∏–∫–∞—Ç, Document —É–∂–µ –µ—Å—Ç—å –≤ models.py
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** `python -c "from src.database.models import Document; print('OK')"` –±–µ–∑ –æ—à–∏–±–æ–∫

## TASK-BUG-002: –ò—Å–ø—Ä–∞–≤–∏—Ç—å Base –≤ base.py
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** MiniMax M2.5
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** BUG-001
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –∫–ª–∞—Å—Å Base –∏–∑ base.py, –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ models.py
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** alembic check –±–µ–∑ –æ—à–∏–±–æ–∫

## TASK-BUG-003: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã calculate_current_price
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** MiniMax M2.5
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** BUG-002
- **–û–ø–∏—Å–∞–Ω–∏–µ:** orchestrator.py ~172 ‚Äî –ø–µ—Ä–µ–ø—É—Ç–∞–Ω—ã –∞—Ä–≥—É–º–µ–Ω—Ç—ã + –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ PriceCalculationResult
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** orchestrator.py –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

## TASK-BUG-004: –ò—Å–ø—Ä–∞–≤–∏—Ç—å enrich_cadastral_data –≤ research.py
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** MiniMax M2.5
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ –Ω–∞ get_parcel_info() —Å fallback –Ω–∞ get_building_info()
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** GET /api/research/property/77:01:0001001:1 –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500

## TASK-BUG-005: –ò—Å–ø—Ä–∞–≤–∏—Ç—å _get_lot_data –≤ research.py
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** MiniMax M2.5
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** BUG-004
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—è: cadastral_number‚Üícadastral_numbers (array), price_start‚Üístart_price –∏ —Ç.–¥.
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –ú–µ—Ç–æ–¥ –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## TASK-BUG-006: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ research_routes.py
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** MiniMax M2.5
- **–û–ø–∏—Å–∞–Ω–∏–µ:** get_db‚Üíget_db_session, from src.services.rosreestr‚Üífrom src.services.enricher import RosreestrEnricher
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** FastAPI –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –±–µ–∑ ImportError

## TASK-BUG-007: –£–±—Ä–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä Orchestrator
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** MiniMax M2.5
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å/–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç—Ä–æ–∫—É orchestrator.py: `orchestrator = Orchestrator()`
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** `from src.orchestrator import Orchestrator` –±–µ–∑ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ .env

## TASK-016: –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ë–î –¥–ª—è Hunter/Antifraud
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** MiniMax M2.5
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** BUG-001..007
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤ models.py: watchlist, managers, manager_conflicts, price_alerts. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é Alembic.
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** alembic upgrade head –±–µ–∑ –æ—à–∏–±–æ–∫, —Ç–∞–±–ª–∏—Ü—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ë–î

## TASK-017: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Hunter Engine –≤ orchestrator.py
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** DeepSeek V3.2
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** TASK-016
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å InvestmentScorer, EarlyBirdStrategy. –î–æ–±–∞–≤–∏—Ç—å run_hunter_cycle() –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª.
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ü–∏–∫–ª –æ—Ö–æ—Ç–Ω–∏–∫–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

## TASK-018: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Antifraud Engine –≤ orchestrator.py
- **–°—Ç–∞—Ç—É—Å:** üî¥ –Ω–µ –Ω–∞—á–∞—Ç–∞
- **–ê–≥–µ–Ω—Ç:** DeepSeek V3.2
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** TASK-017
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å AntiFraudEngine, –≤—ã–∑—ã–≤–∞—Ç—å analyze_lot() –≤ –ø–∞–π–ø–ª–∞–π–Ω–µ —Å–∫–æ—Ä–∏–Ω–≥–∞
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** deal_score —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö 4 –∞–Ω—Ç–∏—Ñ—Ä–æ–¥ –º–µ—Ç—Ä–∏–∫

## TASK-019: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –¥–µ–º–æ-–∫–ª—é—á–∞ –∏ –≤—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî 25.02.2026

**–°—Ç–∞—Ç—É—Å:** üü° –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ, —Ä–µ—à–µ–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–æ

**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:**
- –û—á–∏—Å—Ç–∏–ª–∏ –ë–î –æ—Ç —Å—Ç–∞—Ä—ã—Ö –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –ª–æ—Ç–æ–≤ (26 –ª–æ—Ç–æ–≤, –≤—Å–µ –ß—É–∫–æ—Ç–∫–∞/–ë–µ–ª–≥–æ—Ä–æ–¥ 2010‚Äì2023)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥: –≤ `_filter_lot()` —Å—Ç—Ä–æ–∫–∞ 613 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ `debtor_address` –≤–º–µ—Å—Ç–æ `lot_address` ‚Üí NameError –ø—Ä–∏ –≥–µ–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –ü—Ä–æ–≥–Ω–∞–ª–∏ –ø–æ–ª–Ω—É—é —Ä–∞–∑–≤–µ–¥–∫—É: –Æ–õ + –§–õ –ú–æ—Å–∫–≤–∞, 12 –º–µ—Å, —Ü–µ–Ω–∞ ‚â• 100 –º–ª–Ω, –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- –ü–æ—Ç—Ä–∞—á–µ–Ω–æ ~200 –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ 250 –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞

**–í—ã–≤–æ–¥—ã:**
- –î–µ–º–æ-–∫–ª—é—á `parser-api.com` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ **35 –Æ–õ –∏ 100 –§–õ** –∏–∑ –ú–æ—Å–∫–≤—ã (—Ä–µ–∞–ª—å–Ω–æ –≤ –ï–§–†–°–ë —Ç—ã—Å—è—á–∏)
- –ò–∑ 135 —Å—É—â–Ω–æ—Å—Ç–µ–π ‚Äî 29 —Å–≤–µ–∂–∏—Ö —Ç–æ—Ä–≥–æ–≤, **0 –ª–æ—Ç–æ–≤ ‚â• 100 –º–ª–Ω —Å –º–æ—Å–∫–æ–≤—Å–∫–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é**
- –§–∏–∑–ª–∏—Ü–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –ú–æ—Å–∫–≤–µ, –Ω–æ –ø—Ä–æ–¥–∞—é—Ç –∏–º—É—â–µ—Å—Ç–≤–æ –≤ –¢—É–ª–µ, –ú–∞–≥–∞–¥–∞–Ω–µ –∏ —Ç.–¥.
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –ø–∞–π–ø–ª–∞–π–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ –¥–∞–Ω–Ω—ã—Ö, –∞ –Ω–µ –≤ –∫–æ–¥–µ
- `cadastral_index` —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–Ω—É–∂–Ω–∞ –¥–ª—è TASK-016)

**–ù—É–∂–Ω–æ:**
1. –ö—É–ø–∏—Ç—å —Ä—è–º–æ–π API –ï–§–†–°–ë