# CLAUDE.md ‚Äî Fedresurs Pro
> –ß–∏—Ç–∞–µ—Ç—Å—è Claude Code –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –û–±–Ω–æ–≤–ª—è—Ç—å –≤ –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ ‚Äî –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞.

---

## üéØ –ü–†–û–ï–ö–¢

**Fedresurs Pro** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ–¥–æ–æ—Ü–µ–Ω—ë–Ω–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç–Ω—ã—Ö —Ç–æ—Ä–≥–∞—Ö –ú–æ—Å–∫–≤—ã.
**–¶–µ–ª—å:** –ó–¥–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –°–∞–¥–æ–≤–æ–≥–æ –∫–æ–ª—å—Ü–∞, –¥–æ 300–ú —Ä—É–±–ª–µ–π, –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –¥–∏—Å–∫–æ–Ω—Ç.
**–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è —Ü–µ–ª—å:** SaaS –ø–æ —Ç–∏–ø—É parser-api.com ‚Äî API –∫ –ø—É–±–ª–∏—á–Ω—ã–º —Ä–µ–µ—Å—Ç—Ä–∞–º –†–§.

---

## üñ•Ô∏è –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê

```
VPS (–æ—Å–Ω–æ–≤–Ω–æ–π):  root@157.22.231.149  /root/fedr/
GitHub:          –±—ç–∫–∞–ø –∫–æ–¥–∞ (data/ –≤ .gitignore ‚Äî –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è!)
–õ–æ–∫–∞–ª—å–Ω–∞—è:       quser@server ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –±—ç–∫–∞–ø, –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

fedr-app-1  ‚Üí FastAPI :8000
fedr-db-1   ‚Üí PostgreSQL (fedresurs_db, user: postgres)
Nginx       ‚Üí Vue 3 —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

http://157.22.231.149         ‚Üí —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
http://157.22.231.149:8000    ‚Üí FastAPI
http://157.22.231.149:8000/docs ‚Üí Swagger
SSH: —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á—É, VPN: Xray —á–µ—Ä–µ–∑ –ì–µ—Ä–º–∞–Ω–∏—é
```

### ‚ö†Ô∏è –î–∞—Ç–∞—Å–µ—Ç—ã (data/ –≤ .gitignore ‚Äî –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è):
```
–ù–∞ VPS /root/fedr/data/ ‚Äî –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ª–∏—Ç—å:

ls /root/fedr/data/

# –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã:
rsync -avz ~/SOFT/FEDR/fedr/data/ root@157.22.231.149:/root/fedr/data/

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ë–î:
docker exec fedr-db-1 psql -U postgres -d fedresurs_db \
  -f /root/fedr/import_datasets.sql

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ: data/cadastral/ (113 MB, 584–∫ –∑–∞–ø–∏—Å–µ–π), data/sberbank/ (45 MB)
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 18.02.2026)

```
/root/fedr/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                    # FastAPI —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ main_fix.py                # —Ñ–∏–∫—Å (–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ —á—Ç–æ)
‚îÇ   ‚îú‚îÄ‚îÄ config.py                  # –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py                 # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ orchestrator.py            # ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù 18.02 (FedresursSearch)
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hunter_routes.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ research_routes.py     # /api/research/...
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mock_data.py
‚îÇ   ‚îú‚îÄ‚îÄ client/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ exceptions.py
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ document_model.py
‚îÇ   ‚îú‚îÄ‚îÄ logic/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ price_calculator.py
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fedresurs_search.py    # ‚úÖ –ì–õ–ê–í–ù–´–ô –ü–û–ò–°–ö (–ø–µ—Ä–µ–ø–∏—Å–∞–Ω 17.02)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ external_api.py        # Parser API (–ö–ê–î.–ê—Ä–±–∏—Ç—Ä, –†–µ–µ—Å—Ç—Ä –∑–∞–ª–æ–≥–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser_api_client.py   # –±–∞–∑–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ enricher.py            # –†–æ—Å—Ä–µ–µ—Å—Ç—Ä PKK
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rosreestr_client.py    # ‚úÖ —Å–æ–∑–¥–∞–Ω 18.02
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ checko_client.py       # ‚úÖ —Å–æ–∑–¥–∞–Ω 18.02, –≤—Å–µ endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ moscow_api_client.py   # ‚úÖ —Å–æ–∑–¥–∞–Ω 18.02
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ingestor.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ research.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ xml_parser.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ document_extractor.py
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ notifier.py            # Telegram @dev2dev1_bot
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ config_loader.py       # —á–∏—Ç–∞–µ—Ç search_config.yaml
‚îÇ       ‚îî‚îÄ‚îÄ resource_monitor.py    # CPU/RAM –∑–∞—â–∏—Ç–∞
‚îú‚îÄ‚îÄ fedresurs-panel/               # Vue 3 —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
‚îú‚îÄ‚îÄ alembic/                       # –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ search_config.yaml             # ‚Üê –ù–ê–°–¢–†–û–ô–ö–ò –ü–û–ò–°–ö–ê –ú–ï–ù–Ø–¢–¨ –ó–î–ï–°–¨
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ .env                           # API –∫–ª—é—á–∏
```

---

## üîë API –ö–õ–Æ–ß–ò –ò –õ–ò–ú–ò–¢–´

### Parser API (parser-api.com):
```
–ö–ª—é—á: ede50185e3ccc8589a5c6c6efebc14cc

–ü—Ä–æ–≤–µ—Ä–∫–∞: curl -s "https://parser-api.com/stat/?key=ede50185e3ccc8589a5c6c6efebc14cc"

fedresurs:  250/–¥–µ–Ω—å, 7500/–º–µ—Å—è—Ü  (–¥–æ 2026-03-15) ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
arbitr:     200/–¥–µ–Ω—å, 200/–º–µ—Å—è—Ü   (–¥–æ 2026-03-04) ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –µ–∂–µ–º–µ—Å—è—á–Ω–æ
reestr:     200/–¥–µ–Ω—å, 200/–º–µ—Å—è—Ü   (–¥–æ 2026-03-04)
mosgorsud:  200/–¥–µ–Ω—å, 200/–º–µ—Å—è—Ü   (–¥–æ 2026-03-04)
```
‚ö†Ô∏è arbitr/reestr/mosgorsud ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û –¥–ª—è score >= 70!

### –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ:
```
rosreestr_client.py   ‚Üí pkk.rosreestr.ru
checko_client.py      ‚Üí checko.ru          (CHECKO_API_KEY –≤ .env)
moscow_api_client.py  ‚Üí apidata.mos.ru     (a32c7b59-183e-4643-ba40-6259eeb9c8b7)
```

### Telegram: `@dev2dev1_bot` (—Ç–æ–∫–µ–Ω –≤ .env)

---

## üîç –õ–û–ì–ò–ö–ê –ü–û–ò–°–ö–ê

```
–†–µ–≥–∏–æ–Ω: –ú–æ—Å–∫–≤–∞ (orgRegionID=77)
–¶–µ–Ω–∞:   1–ú ‚Äî 300–ú ‚ÇΩ
–¢–∏–ø:    –∑–¥–∞–Ω–∏—è, –ú–ö–î, –æ—Ñ–∏—Å—ã (—Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ –∫–æ–¥–µ)
```

### Pipeline (3 —à–∞–≥–∞):
```
1. search_ur?orgRegionID=77       ‚Üí —Å–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π-–±–∞–Ω–∫—Ä–æ—Ç–æ–≤ –ú–æ—Å–∫–≤—ã
2. get_org_messages?id={org_id}   ‚Üí —Å–æ–æ–±—â–µ–Ω–∏—è, –∏—â–µ–º —Ç–∏–ø "—Ç–æ—Ä–≥–∏"
3. get_message?id={msg_id}        ‚Üí lots[].description + lots[].start_price
                                    –§–ò–õ–¨–¢–†: "–∑–¥–∞–Ω–∏–µ" –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ + —Ü–µ–Ω–∞ –¥–æ 300–ú
```

‚ùå get_trades, get_trade_messages ‚Äî –ù–ï –°–£–©–ï–°–¢–í–£–Æ–¢! –°—Ç–∞—Ä—ã–µ –æ—à–∏–±–∫–∏.

### –≠–∫–æ–Ω–æ–º–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:
```python
asyncio.Lock()    # –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∑–∞ —Ä–∞–∑ ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
asyncio.sleep(2)  # –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
RequestCounter    # —Å—á—ë—Ç—á–∏–∫ ‚Üí /app/data/api_usage.json
```

---

## üîÑ PIPELINE –û–ë–û–ì–ê–©–ï–ù–ò–Ø –õ–û–¢–ê

```
1. fedresurs_search.py  ‚Üí –∞–¥—Ä–µ—Å, —Ü–µ–Ω–∞, –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞
2. rosreestr_client.py  ‚Üí –∫–∞–¥–∞—Å—Ç—Ä, –ø–ª–æ—â–∞–¥—å, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã     (–±–µ–∑–ª–∏–º–∏—Ç)
3. checko_client.py     ‚Üí –¥–∏—Ä–µ–∫—Ç–æ—Ä, —Å—Ç–∞—Ç—É—Å, —Ä–∏—Å–∫            (–±–µ–∑–ª–∏–º–∏—Ç)
4. moscow_api_client.py ‚Üí –æ—Ö—Ä–∞–Ω–Ω—ã–µ –∑–æ–Ω—ã, –ü–ó–ó               (–±–µ–∑–ª–∏–º–∏—Ç)
5. external_api.py      ‚Üí reestr/arbitr –¢–û–õ–¨–ö–û score >= 70  (–ª–∏–º–∏—Ç!)
```

---

## üìä –°–ö–û–†–ò–ù–ì

```python
deal_score = investment_score - (fraud_score * 0.6)

Geography:  0-40  (–°–∞–¥–æ–≤–æ–µ = 40, –¢–¢–ö = 25, –ú–ö–ê–î = 10)
Discount:   0-40  (–¥–∏—Å–∫–æ–Ω—Ç –æ—Ç –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏)
Liquidity:  0-20  (–∑–¥–∞–Ω–∏–µ = 20, –ú–ö–î = 18)
Timing:     0-10  (—Å—Ç–∞–¥–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏)

Fraud:  —Å–≤—è–∑–∏ +30 | –∑–∞–ª–æ–≥ >90% +20 | –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ <60 –¥–Ω–µ–π +25

>= 80 ‚Üí üî• HOT DEAL ‚Üí Telegram
>= 60 ‚Üí ‚úÖ GOOD DEAL
>= 40 ‚Üí ‚ö†Ô∏è REVIEW
<  40 ‚Üí ‚ùå SKIP
```

---

## üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–•

```
DB:    fedresurs_db  ‚Üê (–ù–ï fedr!)
User:  postgres      ‚Üê (–ù–ï fedruser!)
```

### –¢–∞–±–ª–∏—Ü—ã (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 18.02.2026 –≤–µ—á–µ—Ä):
```
‚úÖ alembic_version  ‚Äî –≤–µ—Ä—Å–∏—è: a881e873d6f2
‚úÖ cadastral_index  ‚Äî 584,354 –∑–∞–ø–∏—Å–∏ (–∫–∞–¥–∞—Å—Ç—Ä –ú–æ—Å–∫–≤—ã) üéâ
‚úÖ market_benchmarks ‚Äî 60 –∑–∞–ø–∏—Å–µ–π (—Ü–µ–Ω—ã —Ä–∞–π–æ–Ω–æ–≤ –°–±–µ—Ä–±–∞–Ω–∫) üéâ
‚úÖ lots             ‚Äî 0 (–∂–¥—ë–º –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä 00:00 UTC)
‚úÖ auctions         ‚Äî 0
‚úÖ messages         ‚Äî 0
‚úÖ documents        ‚Äî 0
‚úÖ price_schedules  ‚Äî 0
‚úÖ system_state     ‚Äî 1 –∑–∞–ø–∏—Å—å

‚ùå –ù–ï –°–û–ó–î–ê–ù–´: antifraud_results, managers, watchlist
```

### –î–∞—Ç–∞—Å–µ—Ç—ã:
```
data/ –Ω–µ –≤ git (–≤ .gitignore) ‚Äî –Ω—É–∂–µ–Ω rsync —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –Ω–∞ VPS
data/cadastral/ ‚Äî 113 MB, 584–∫ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π –ú–æ—Å–∫–≤—ã
data/sberbank/  ‚Äî 45 MB (market_benchmarks.csv, train.csv)
import_datasets.sql ‚Äî —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –ë–î
```

---

## üîå CHECKO API ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

```
Base URL: https://api.checko.ru/v2/
–ö–ª—é—á: CHECKO_API_KEY –≤ .env

ENDPOINTS:
/company?inn=...             ‚Üí —é—Ä–ª–∏—Ü–æ (–ï–ì–†–Æ–õ)
/entrepreneur?inn=...        ‚Üí –ò–ü (–ï–ì–†–ò–ü)
/person?inn=...              ‚Üí —Ñ–∏–∑–ª–∏—Ü–æ
/search?by=...&obj=...       ‚Üí –ø–æ–∏—Å–∫ (name/founder-name/leader-name/okved)
/finances?inn=...            ‚Üí —Ñ–∏–Ω–æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å (–†–æ—Å—Å—Ç–∞—Ç + –§–ù–°)
/legal-cases?inn=...         ‚Üí –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞ (–ö–ê–î, –∑–∞–¥–µ—Ä–∂–∫–∞ 1-2 –Ω–µ–¥.)
/enforcements?inn=...        ‚Üí –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ (–§–°–°–ü)
/inspections?inn=...         ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ì–µ–Ω–ø—Ä–æ–∫—É—Ä–∞—Ç—É—Ä–∞)
/bankruptcy-messages?inn=... ‚Üí –∑–∞–ø–∏—Å–∏ –ï–§–†–°–ë
/fedresurs?inn=...           ‚Üí —Å–æ–æ–±—â–µ–Ω–∏—è –§–µ–¥—Ä–µ—Å—É—Ä—Å–∞
/contracts?inn=&law=44       ‚Üí –≥–æ—Å–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (44-–§–ó/94-–§–ó/223-–§–ó)
/timeline?inn=...            ‚Üí –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
/bank?bic=...                ‚Üí –±–∞–Ω–∫ –ø–æ –ë–ò–ö

–ê–ù–¢–ò–§–†–û–î ‚Äî —Ñ–ª–∞–≥–∏ –∏–∑ /company:
  –ú–∞—Å—Å–†—É–∫–æ–≤–æ–¥ / –ú–∞—Å—Å–£—á—Ä–µ–¥    ‚Üí –º–∞—Å—Å–æ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä/—É—á—Ä–µ–¥–∏—Ç–µ–ª—å (–§–ù–°)
  –î–∏—Å–∫–≤–õ–∏—Ü–æ / –î–∏—Å–∫–≤–õ–∏—Ü–∞      ‚Üí –¥–∏—Å–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è
  –°–∞–Ω–∫—Ü–∏–∏ + –°–∞–Ω–∫—Ü–£—á—Ä         ‚Üí —Å–∞–Ω–∫—Ü–∏–æ–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ (–ø—Ä–∞–≤–∏–ª–æ 50%)
  –ù–µ–ª–µ–≥–∞–ª–§–∏–Ω                 ‚Üí –Ω–µ–ª–µ–≥–∞–ª—å–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–¶–ë)
  –ù–µ–¥–æ–±–ü–æ—Å—Ç                  ‚Üí —Ä–µ–µ—Å—Ç—Ä –Ω–µ–¥–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
  –Æ—Ä–ê–¥—Ä–µ—Å.–ù–µ–¥–æ—Å—Ç             ‚Üí –Ω–µ–¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–π –∞–¥—Ä–µ—Å
  –Æ—Ä–ê–¥—Ä–µ—Å.–ú–∞—Å—Å–ê–¥—Ä–µ—Å[]        ‚Üí –º–∞—Å—Å–æ–≤—ã–π –∞–¥—Ä–µ—Å
  –ï–§–†–°–ë[]                    ‚Üí –∑–∞–ø–∏—Å–∏ –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ
  –£—Å—Ç–ö–∞–ø.–°—É–º–º–∞               ‚Üí —É—Å—Ç–∞–≤–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª (–ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ –º–∞–ª—ã–π)

–°–ö–û–†–ò–ù–ì ‚Äî –ø–æ–ª–µ–∑–Ω—ã–µ –ø–æ–ª—è:
  –ù–∞–ª–æ–≥–∏.–°—É–º–£–ø–ª              ‚Üí –∫–æ—Å–≤–µ–Ω–Ω—ã–π –æ–±–æ—Ä–æ—Ç
  –°–ß–†                        ‚Üí —Å—Ä–µ–¥–Ω–µ—Å–ø–∏—Å–æ—á–Ω–∞—è —á–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å
  –†—É–∫–æ–≤–æ–¥[].–°–≤—è–∑–†—É–∫–æ–≤–æ–¥[]    ‚Üí –û–ì–†–ù –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
  –°–≤—è–∑–£—á—Ä–µ–¥[]                ‚Üí –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏

meta.status / meta.balance / meta.today_request_count
```

---

## üì¶ –°–ü–†–ò–ù–¢–´

```
Sprint 1 ‚Äî FastAPI + PostgreSQL + Docker
Sprint 2 ‚Äî Telegram + Rosreestr + Semantic + Red flags          (–≤–ª–∏—Ç)
Sprint 3 ‚Äî Checko + Document extractor + Research API           (–≤–ª–∏—Ç 18.02)
Sprint 4 ‚Äî –ü–µ—Ä–µ–ø–∏—Å–∞–Ω –ø–æ–∏—Å–∫, API –∫–ª–∏–µ–Ω—Ç—ã, –∞—É–¥–∏—Ç                 (—Ç–µ–∫—É—â–∏–π)
```

---

## üõ°Ô∏è RESOURCE MONITOR

```
cpu_threshold: 80%  ‚Üí –ø–∞—É–∑–∞ 10 —Å–µ–∫
cpu_critical: 150%  ‚Üí –ø–∞—É–∑–∞ 60 —Å–µ–∫  ‚Üê –±—ã–ª —Å–ª—É—á–∞–π >200%!
ram_threshold: 85%
ram_critical:  95%
```

---

## üöÄ –ö–û–ú–ê–ù–î–´

```bash
cd /root/fedr

# Docker
docker-compose up -d
docker-compose down && docker-compose build && docker-compose up -d
docker logs -f fedr-app-1

# –õ–∏–º–∏—Ç—ã API
curl -s "https://parser-api.com/stat/?key=ede50185e3ccc8589a5c6c6efebc14cc"

# –ü–æ–∏—Å–∫
docker exec -it fedr-app-1 python -m src.services.fedresurs_search

# –ë–î
docker exec fedr-db-1 psql -U postgres -d fedresurs_db -c "\dt"
docker exec fedr-db-1 psql -U postgres -d fedresurs_db -c "SELECT relname, n_live_tup FROM pg_stat_user_tables ORDER BY n_live_tup DESC;"

# –ú–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head
```

---

## üí° –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–¢–ö–ò

1. –ë–î ‚Äî `fedresurs_db`, user `postgres` (–Ω–µ fedruser, –Ω–µ fedr!)
2. get_trades / get_trade_messages ‚Äî –ù–ï –°–£–©–ï–°–¢–í–£–Æ–¢
3. CPU ‚Äî –±—ã–ª —Å–ª—É—á–∞–π >200%, —Ö–æ—Å—Ç–µ—Ä –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–ª –æ–± –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏
4. –ó–∞–ø—Ä–æ—Å—ã ‚Äî –ù–ò–ö–û–ì–î–ê –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ asyncio.Lock()
5. arbitr/reestr/mosgorsud ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è score >= 70
6. 76 –ª–æ—Ç–æ–≤ ‚Äî —Ü–µ–ª–µ–≤–∞—è —Ü–∏—Ñ—Ä–∞ (–Ω–∞–π–¥–µ–Ω–æ –≤—Ä—É—á–Ω—É—é –Ω–∞ —Å–∞–π—Ç–µ)
7. Claude Code ‚Äî –∏–Ω–æ–≥–¥–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–ª–∞–Ω—ã –∫–∞–∫ —Å–¥–µ–ª–∞–Ω–Ω–æ–µ. –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!

---

## üìÖ –ò–°–¢–û–†–ò–Ø –°–ï–°–°–ò–ô

### –°–µ—Å—Å–∏—è 1 ‚Äî 15.02.2026
**–°–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ Xray VPN (split-routing)
- ‚úÖ FastAPI + Docker
- ‚úÖ Vue 3 + Nginx
- ‚úÖ Mock –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ

---

### –°–µ—Å—Å–∏—è 2 ‚Äî 16.02.2026
**–°–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ Resource Monitor
- ‚úÖ SmartParserClient —Å –ª–∏–º–∏—Ç–∞–º–∏
- ‚úÖ CLAUDE.md —Å–æ–∑–¥–∞–Ω

---

### –°–µ—Å—Å–∏—è 3 ‚Äî 17.02.2026
**–°–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –ù–∞–π–¥–µ–Ω–∞ –æ—à–∏–±–∫–∞: get_trades –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢ –≤ Parser API
- ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è fedresurs_api –∏ arbitr_api
- ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω fedresurs_search.py (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π pipeline)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ª–∏–º–∏—Ç—ã: arbitr/reestr/mosgorsud = 200/–º–µ—Å—è—Ü (–æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è)

---

### –°–µ—Å—Å–∏—è 4 ‚Äî 18.02.2026
**–°–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –ê—É–¥–∏—Ç –ë–î: fedresurs_db, 7 —Ç–∞–±–ª–∏—Ü, –≤—Å–µ –ø—É—Å—Ç—ã–µ
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã rosreestr_client.py, checko_client.py, moscow_api_client.py
- ‚úÖ checko_client.py ‚Äî –≤—Å–µ endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ Sprint 3 –≤–ª–∏—Ç –≤ master, –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã (a881e873d6f2)
- ‚úÖ Docker –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Checko API —Å–æ–±—Ä–∞–Ω–∞
- ‚úÖ orchestrator.py –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (get_trade_messages ‚Üí FedresursSearch)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –ª–∏–º–∏—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–∞ (_check_api_limits + _seconds_until_midnight)
- ‚úÖ system_state —Å–±—Ä–æ—à–µ–Ω —Å 2026-01-24 –Ω–∞ NOW()
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ /stat/ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤, –Ω–µ —Å–ª–æ–≤–∞—Ä—å)
- ‚úÖ –î–∞—Ç–∞—Å–µ—Ç—ã –∑–∞–ª–∏—Ç—ã –Ω–∞ VPS (rsync + volume mount)
- ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –≤ –ë–î: 584,354 –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π + 60 –±–µ–Ω—á–º–∞—Ä–∫–æ–≤
- ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–π–¥–µ–Ω ‚Äî –∑–∞—â–∏—Ç–∞ –ª–∏–º–∏—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ STATUS.md —Å–æ–∑–¥–∞–Ω –¥–ª—è NotebookLM

**–°—Ç–∞—Ç—É—Å –Ω–∞ –∫–æ–Ω–µ—Ü —Å–µ—Å—Å–∏–∏ (22:48 –ú–°–ö):**
- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å–ø–∏—Ç –¥–æ 00:00 UTC (–ª–∏–º–∏—Ç 250/250, –æ—Å—Ç–∞–ª–æ—Å—å 0)
- –¢–µ—Å—Ç –ø–æ–∏—Å–∫–∞: 0 –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ, –æ—à–∏–±–∫–∞ 40304 –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –õ–∏–º–∏—Ç –æ–±–Ω–æ–≤–∏—Ç—Å—è –≤ 00:00 UTC = 03:00 –ú–°–ö 19.02
- cadastral_index –∏ market_benchmarks –≥–æ—Ç–æ–≤—ã –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è –ª–æ—Ç–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø–µ—Ä–≤–æ–º—É —Ä–µ–∞–ª—å–Ω–æ–º—É —Å–±–æ—Ä—É –¥–∞–Ω–Ω—ã—Ö

---

## ‚ùå –¢–ï–ö–£–©–ò–ï –ü–†–û–ë–õ–ï–ú–´

1. **fedresurs 250/250** ‚Äî –æ–±–Ω–æ–≤–∏—Ç—Å—è –≤ 00:00 UTC (03:00 –ú–°–ö 19.02)

---

## üéØ –ó–ê–î–ê–ù–ò–ï (19.02 —É—Ç—Ä–æ–º –ø–æ—Å–ª–µ 03:00 –ú–°–ö)

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞—à—ë–ª –ª–æ—Ç—ã –∏ –æ–±–æ–≥–∞—Ç–∏—Ç—å –∏—Ö:

```bash
# 1. –õ–æ–≥–∏ –ø–æ–∏—Å–∫–∞
docker logs fedr-app-1 2>&1 | grep "–ù–∞–π–¥–µ–Ω–æ\|–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ\|–ª–∏–º–∏—Ç\|Found"

# 2. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤
docker exec fedr-db-1 psql -U postgres -d fedresurs_db \
  -c "SELECT COUNT(*) FROM lots;"

# 3. –ü–µ—Ä–≤—ã–µ –ª–æ—Ç—ã (–¥–µ—Ç–∞–ª–∏)
docker exec fedr-db-1 psql -U postgres -d fedresurs_db \
  -c "SELECT id, description, start_price, debtor_inn FROM lots LIMIT 5;"
```

–ï—Å–ª–∏ –ª–æ—Ç—ã –µ—Å—Ç—å ‚Üí –ø–æ–¥–∫–ª—é—á–∞—Ç—å pipeline –æ–±–æ–≥–∞—â–µ–Ω–∏—è:
1. rosreestr_client.py ‚Üí –∫–∞–¥–∞—Å—Ç—Ä, –ø–ª–æ—â–∞–¥—å, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
2. checko_client.py ‚Üí –¥–∏—Ä–µ–∫—Ç–æ—Ä, –∞–Ω—Ç–∏—Ñ—Ä–æ–¥ (–∏—Å–ø–æ–ª—å–∑—É—è debtor_inn)
3. moscow_api_client.py ‚Üí –æ—Ö—Ä–∞–Ω–Ω—ã–µ –∑–æ–Ω—ã, –ü–ó–ó
4. –°–∫–æ—Ä–∏–Ω–≥ ‚Üí deal_score = investment - fraud*0.6
5. Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è score >= 80   


### –°–µ—Å—Å–∏—è 5 ‚Äî 18.02.2026 (–Ω–æ—á—å)

**–ü—Ä–æ–±–ª–µ–º—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã:**
- ‚ùå –ü–æ—Ä–æ–≥ –∑–∞—â–∏—Ç—ã –ª–∏–º–∏—Ç–æ–≤ 240/250 ‚Äî —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π, –Ω–µ –æ—Å—Ç–∞–≤–ª—è–ª –∑–∞–ø–∞—Å–∞ –Ω–∞ –æ—Ç–ª–∞–¥–∫—É
- ‚ùå –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø–µ—Ç–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ ‚Äî –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫ –∑–∞–ø—É—Å–∫–∞–ª—Å—è –∑–∞–Ω–æ–≤–æ
- ‚ùå `get_last_processed_date()` –≤–æ–∑–≤—Ä–∞—â–∞–ª `None` ‚Üí "–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫" –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
- ‚ùå `return` –≤–Ω—É—Ç—Ä–∏ `try/finally` —Å `break` ‚Üí Python –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–ª return
- ‚ùå FedresursSearch –ø–∞–¥–∞–ª –Ω–∞ `None.lower()` –≤ description

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≥–µ–Ω—Ç–æ–º:**
- ‚úÖ –ë–∞–≥ #1: `.lower()` –Ω–∞ None ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ `(x or "").lower()`
- ‚úÖ –ë–∞–≥ #2: State –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω `finally` –±–ª–æ–∫
- ‚úÖ –ë–∞–≥ #3: –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø–µ—Ç–ª—è ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `get_last_processed_date()`
- ‚úÖ Python quirk —Å `return/finally/break` ‚Äî —É–±—Ä–∞–Ω `break`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

**–°—Ç–∞—Ç—É—Å –Ω–∞ 18.02 08:12 –ú–°–ö:**
- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°–ª–µ–¥—É—é—â–∏–π –ø–æ–∏—Å–∫: —á–µ—Ä–µ–∑ 358 –º–∏–Ω—É—Ç (~14:00 –ú–°–ö 18.02)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 240/250
- –û—Å—Ç–∞–ª–æ—Å—å –∑–∞–ø—Ä–æ—Å–æ–≤: 10

---

## üéØ –ó–ê–î–ê–ù–ò–ï (19.02 –ø–æ—Å–ª–µ 14:00 –ú–°–ö)

**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: Claude Code**

–ö–æ–≥–¥–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ—Å–Ω—ë—Ç—Å—è (~14:00 –ú–°–ö):
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø–æ–∏—Å–∫–∞
docker logs fedr-app-1 2>&1 | grep -E "–ù–∞–π–¥–µ–Ω–æ|Found|ERROR" | tail -30

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ—Ç—ã –≤ –ë–î
docker exec fedr-db-1 psql -U postgres -d fedresurs_db \
  -c "SELECT COUNT(*) FROM lots;"

# 3. –ï—Å–ª–∏ –ª–æ—Ç–æ–≤ 0 ‚Äî —Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏
docker logs fedr-app-1 2>&1 | grep -B 5 -A 5 "ERROR"

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å—Ç–∞—Ç–æ–∫ –ª–∏–º–∏—Ç–∞
curl -s "https://parser-api.com/stat/?key=ede50185e3ccc8589a5c6c6efebc14cc"
```

**–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –ª–æ—Ç—ã (N > 0):**
- –ü–æ–¥–∫–ª—é—á–∞—Ç—å pipeline –æ–±–æ–≥–∞—â–µ–Ω–∏—è (Checko + Rosreestr)
- –ó–∞–ø—É—Å–∫–∞—Ç—å —Å–∫–æ—Ä–∏–Ω–≥
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ï—Å–ª–∏ –ª–æ—Ç–æ–≤ 0:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–∏–ª—å—Ç—Ä (–º–æ–∂–µ—Ç —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π)
- –ñ–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ü–∏–∫–ª–∞ (–µ—â—ë 6 —á–∞—Å–æ–≤)

---

## üìã –ó–ê–î–ê–ß–ò –î–õ–Ø –ê–ì–ï–ù–¢–û–í 19.02.26

### TASK-001: Write-Ahead Buffer

**–°—Ç–∞—Ç—É—Å:** TODO  
**–§–∞–π–ª:** `src/orchestrator.py`

**–¶–µ–ª—å:** –î–∞–Ω–Ω—ã–µ –æ—Ç API —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –¥–∏—Å–∫ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è, –¥–æ –∑–∞–ø–∏—Å–∏ –≤ –ë–î.
–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç ‚Äî –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è, –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ –¥–æ–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**

1. –í `src/orchestrator.py` ‚Äî —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ—Ç–æ–≤ –æ—Ç FedresursSearch, **–¥–æ** –∑–∞–ø–∏—Å–∏ –≤ –ë–î:
   - –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/app/data/raw_lots/` –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—ã—Ä—ã–µ –ª–æ—Ç—ã –≤ `/app/data/raw_lots/{timestamp}_lots.json`
   - –§–æ—Ä–º–∞—Ç: `{"collected_at": "...", "source": "fedresurs", "lots": [...]}`

2. –í –Ω–∞—á–∞–ª–µ `run()` –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ ‚Äî —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å `/app/data/raw_lots/`:
   - –ù–∞–π—Ç–∏ —Ñ–∞–π–ª—ã `*_lots.json` –±–µ–∑ –ø–∞—Ä—ã `*_lots.done`
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ: –∑–∞–ø–∏—Å–∞—Ç—å –ª–æ—Ç—ã –≤ –ë–î, –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π –º–∞—Ä–∫–µ—Ä `*_lots.done`
   - –û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ –ë–î ‚Üí —Ñ–∞–π–ª `.json` –ù–ï —É–¥–∞–ª—è—Ç—å (–ø–æ–ø—Ä–æ–±—É–µ–º –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑)

**–ù–µ —Ç—Ä–æ–≥–∞—Ç—å:** —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ª–æ—Ç–æ–≤, `_check_api_limits`, –ª–æ–≥–∏–∫—É —Å–∫–æ—Ä–∏–Ω–≥–∞.

**–ì–æ—Ç–æ–≤–æ –∫–æ–≥–¥–∞:**
- –õ–æ—Ç—ã –ø–∏—à—É—Ç—Å—è –≤ JSON –¥–æ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
- –†–µ—Å—Ç–∞—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚Üí –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è
- –î–≤–æ–π–Ω–æ–π –∑–∞–ø–∏—Å–∏ –Ω–µ—Ç (–∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ `.done` –º–∞—Ä–∫–µ—Ä)

cat >> /root/fedr/CLAUDE.md << 'TASKS_EOF'

---

## üìã –ó–ê–î–ê–ß–ò –î–õ–Ø –ê–ì–ï–ù–¢–û–í

> **–ú–æ–¥–µ–ª–∏:** –∑–∞–¥–∞—á–∏ –ø–æ–º–µ—á–µ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–π –º–æ–¥–µ–ª—å—é.
> - üü¢ FREE ‚Äî minimax-m2.5 –∏–ª–∏ kwaipilot/kat-coder-pro (–ø—Ä–æ—Å—Ç—ã–µ –ø—Ä–∞–≤–∫–∏)
> - üü° CHEAP ‚Äî deepseek-chat (—Å—Ä–µ–¥–Ω–∏–µ –∑–∞–¥–∞—á–∏, –ª–æ–≥–∏–∫–∞)
> - üî¥ FULL ‚Äî claude-sonnet (—Å–ª–æ–∂–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –æ—Ç–ª–∞–¥–∫–∞)

---

### TASK-001: Write-Ahead Buffer ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 19.02.2026

---

### TASK-002: –ò—Å–ø—Ä–∞–≤–∏—Ç—å checko_client.py –ø–æ–¥ —Ä–µ–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 19.02.2026
**–ú–æ–¥–µ–ª—å: üü¢  (minimax-m2.5)**

**–°—Ç–∞—Ç—É—Å:** ‚úÖ DONE
**–§–∞–π–ª:** `src/services/checko_client.py`

**–°—É–±–∞–≥–µ–Ω—Ç—ã (–≤–∫–ª—é—á–∏—Ç—å –≤ Cline Settings ‚Üí Features ‚Üí Subagents):**
```
–°—É–±–∞–≥–µ–Ω—Ç 1: –ø—Ä–æ—á–∏—Ç–∞–π src/services/checko_client.py ‚Äî –Ω–∞–π–¥–∏ –≤—Å–µ endpoints –∏ –º–µ—Ç–æ–¥—ã
–°—É–±–∞–≥–µ–Ω—Ç 2: –ø—Ä–æ—á–∏—Ç–∞–π CLAUDE.md —Ä–∞–∑–¥–µ–ª "CHECKO API ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è" ‚Äî –≤—ã–ø–∏—à–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints
```

**–ü—Ä–æ–±–ª–µ–º–∞:** endpoints –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞—É–≥–∞–¥, –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É API.

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints:**
```
GET /company?inn=...             ‚Üí –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–∞ + –∞–Ω—Ç–∏—Ñ—Ä–æ–¥ —Ñ–ª–∞–≥–∏
GET /finances?inn=...            ‚Üí —Ñ–∏–Ω–æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å
GET /legal-cases?inn=...         ‚Üí –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ –¥–µ–ª–∞
GET /enforcements?inn=...        ‚Üí –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ (–§–°–°–ü)
GET /bankruptcy-messages?inn=... ‚Üí –∑–∞–ø–∏—Å–∏ –ï–§–†–°–ë
```

**–ê–Ω—Ç–∏—Ñ—Ä–æ–¥ —Ñ–ª–∞–≥–∏ –∏–∑ /company:**
–ú–∞—Å—Å–†—É–∫–æ–≤–æ–¥, –ú–∞—Å—Å–£—á—Ä–µ–¥, –î–∏—Å–∫–≤–õ–∏—Ü–æ, –°–∞–Ω–∫—Ü–∏–∏, –ù–µ–ª–µ–≥–∞–ª–§–∏–Ω, –ù–µ–¥–æ–±–ü–æ—Å—Ç, –Æ—Ä–ê–¥—Ä–µ—Å.–ù–µ–¥–æ—Å—Ç, –ï–§–†–°–ë[]

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –º–µ—Ç–æ–¥—ã –ø–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoints
2. –î–æ–±–∞–≤–∏—Ç—å `get_antifraud_flags(inn)` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å—Ä–∞–±–æ—Ç–∞–≤—à–∏—Ö —Ñ–ª–∞–≥–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å `get_full_profile(inn)` ‚Üí –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- [x] –í—Å–µ endpoints —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑ CLAUDE.md
- [x] `get_antifraud_flags(inn)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫ —Å —Ñ–ª–∞–≥–∞–º–∏
- [x] `get_full_profile(inn)` ‚Äî –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤
- [x] –ù–µ—Ç –≤—ã–∑–æ–≤–æ–≤ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö endpoints

---

### TASK-003: –ò—Å–ø—Ä–∞–≤–∏—Ç—å enricher.py ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã –≤ async –∫–æ–¥–µ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û 19.02.2026
**–ú–æ–¥–µ–ª—å: üü° CHEAP (deepseek/deepseek-v3.2)**

**–°—Ç–∞—Ç—É—Å:** ‚úÖ DONE
**–§–∞–π–ª:** `src/services/enricher.py`

**–°—É–±–∞–≥–µ–Ω—Ç—ã:**
```
–°—É–±–∞–≥–µ–Ω—Ç 1: –ø—Ä–æ—á–∏—Ç–∞–π src/services/enricher.py ‚Äî –Ω–∞–π–¥–∏ –≤—Å–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã PKKRosreestrAPIClient
–°—É–±–∞–≥–µ–Ω—Ç 2: –ø—Ä–æ—á–∏—Ç–∞–π src/services/rosreestr_client.py ‚Äî –≤—ã–ø–∏—à–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ async –º–µ—Ç–æ–¥—ã –∏ –∏—Ö —Å–∏–≥–Ω–∞—Ç—É—Ä—ã
```

**–ü—Ä–æ–±–ª–µ–º–∞:** `PKKRosreestrAPIClient` —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π ‚Üí –±–ª–æ–∫–∏—Ä—É–µ—Ç event loop ‚Üí —Ç–æ—Ä–º–æ–∑–∏—Ç FastAPI.

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ó–∞–º–µ–Ω–∏—Ç—å `PKKRosreestrAPIClient` –Ω–∞ `RosreestrClient` –∏–∑ `rosreestr_client.py`
2. –ú–µ—Ç–æ–¥—ã `get_parcel_info` –∏ `get_building_info` —Å–¥–µ–ª–∞—Ç—å `async def`
3. –†–∞—Å—Å—Ç–∞–≤–∏—Ç—å `await` –≤–µ–∑–¥–µ –≥–¥–µ –Ω—É–∂–Ω–æ
4. –£–±—Ä–∞—Ç—å –∏–º–ø–æ—Ä—Ç `rosreestr_api`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- [x] –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –≤–Ω—É—Ç—Ä–∏ async –º–µ—Ç–æ–¥–æ–≤
- [x] `enrich_lot` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –ø–ª–æ—â–∞–¥—å –∏ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
- [x] –ù–µ—Ç –∏–º–ø–æ—Ä—Ç–∞ `rosreestr_api`

---

### TASK-004: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∫–æ—Ä–∏–Ω–≥
**–ú–æ–¥–µ–ª—å: üî¥ FULL (claude-sonnet)**

**–°—Ç–∞—Ç—É—Å:** TODO (–≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ—Å–ª–µ TASK-002 –∏ TASK-003)  
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `src/logic/scorer.py`  
**–ú–∏–≥—Ä–∞—Ü–∏—è:** –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `deal_score` –≤ —Ç–∞–±–ª–∏—Ü—É `lots`

**–°—É–±–∞–≥–µ–Ω—Ç—ã:**
```
–°—É–±–∞–≥–µ–Ω—Ç 1: –ø—Ä–æ—á–∏—Ç–∞–π src/database/models.py ‚Äî –≤—ã–ø–∏—à–∏ –≤—Å–µ –ø–æ–ª—è Lot –∏ —Ç–µ–∫—É—â–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ alembic/
–°—É–±–∞–≥–µ–Ω—Ç 2: –ø—Ä–æ—á–∏—Ç–∞–π src/services/checko_client.py ‚Äî –≤—ã–ø–∏—à–∏ –º–µ—Ç–æ–¥ get_antifraud_flags –∏ –µ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç
–°—É–±–∞–≥–µ–Ω—Ç 3: –ø—Ä–æ—á–∏—Ç–∞–π src/orchestrator.py ‚Äî –Ω–∞–π–¥–∏ –≥–¥–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ—Ç—ã –∏ –≥–¥–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è enricher
```

**–§–æ—Ä–º—É–ª–∞:**
```
deal_score = investment_score - (fraud_score * 0.6)
```

**investment_score (0-100):**
```
Geography:  GARDEN_RING ‚Üí 40, TTK ‚Üí 25, –∏–Ω–∞—á–µ ‚Üí 10
Discount:   –¥–∏—Å–∫–æ–Ω—Ç –æ—Ç rosreestr_value (0-40 –±–∞–ª–ª–æ–≤)
Liquidity:  –∑–¥–∞–Ω–∏–µ ‚Üí 20, –º–∫–¥/–º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω ‚Üí 18, –∏–Ω–∞—á–µ ‚Üí 5
Timing:     5 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

**fraud_score (0-100):**
```
–ú–∞—Å—Å–†—É–∫–æ–≤–æ–¥/–ú–∞—Å—Å–£—á—Ä–µ–¥ ‚Üí +15
–î–∏—Å–∫–≤–õ–∏—Ü–æ             ‚Üí +25
–°–∞–Ω–∫—Ü–∏–∏               ‚Üí +30
–ù–µ–ª–µ–≥–∞–ª–§–∏–Ω            ‚Üí +20
–ï–§–†–°–ë[] –Ω–µ –ø—É—Å—Ç–æ–π     ‚Üí +25
–ù–µ–¥–æ–±–ü–æ—Å—Ç             ‚Üí +15
```

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å `src/logic/scorer.py` —Å –∫–ª–∞—Å—Å–æ–º `DealScorer`
2. –ú–µ—Ç–æ–¥ `calculate(lot, antifraud_flags) -> dict` ‚Üí `{deal_score, investment_score, fraud_score, breakdown}`
3. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `deal_score Float nullable` –≤ `Lot` –º–æ–¥–µ–ª—å
4. –ú–∏–≥—Ä–∞—Ü–∏—è: `alembic revision --autogenerate -m "add deal_score to lots"` ‚Üí `alembic upgrade head`
5. –í—ã–∑—ã–≤–∞—Ç—å —Å–∫–æ—Ä–∏–Ω–≥ –≤ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–µ –ø–æ—Å–ª–µ –æ–±–æ–≥–∞—â–µ–Ω–∏—è
6. –ü—Ä–∏ `deal_score >= 80` ‚Üí `notifier.send_lot_alert(lot)`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- [ ] `scorer.py` —Å–æ–∑–¥–∞–Ω, —Ñ–æ—Ä–º—É–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [ ] –ü–æ–ª–µ `deal_score` –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –ë–î
- [ ] –°–∫–æ—Ä–∏–Ω–≥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–±–æ–≥–∞—â–µ–Ω–∏—è
- [ ] –ü—Ä–∏ score >= 80 —É—Ö–æ–¥–∏—Ç Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
TASKS_EOF

---

### –°–µ—Å—Å–∏—è 6 ‚Äî 19.02.2026 (–≤–µ—á–µ—Ä)
**–ú–æ–¥–µ–ª—å: deepseek/deepseek-v3.2**

**–°–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ TASK-003: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `src/services/enricher.py`
  - –£–¥–∞–ª—ë–Ω –∏–º–ø–æ—Ä—Ç `rosreestr_api` –∏ `PKKRosreestrAPIClient` (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
  - –ó–∞–º–µ–Ω—ë–Ω –Ω–∞ `RosreestrClient` –∏–∑ `src/services/rosreestr_client.py` (async)
  - `get_parcel_info` –∏ `get_building_info` –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ `async def`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã `await` –¥–ª—è –≤—Å–µ—Ö –≤—ã–∑–æ–≤–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `close()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è HTTP —Å–µ—Å—Å–∏–∏
  - `enrich_lot` —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é async –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ event loop

---

### –°–µ—Å—Å–∏—è 7 ‚Äî 19.02.2026 (–Ω–æ—á—å)
**–ú–æ–¥–µ–ª—å: claude-sonnet-4-6**

**–ë–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:**
- ‚úÖ –ë–∞–≥ `lot_number`: –ø—Ä–∏—Ö–æ–¥–∏–ª —Å—Ç—Ä–æ–∫–æ–π `'1'` ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω `int()` –≤ `orchestrator.py:278`
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: —É–¥–∞–ª—ë–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`FeedSidebar`, `Dashboard` –∏ –¥—Ä.) –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–∑ git, —É–±—Ä–∞–Ω Vuetify –∏–∑ `vite.config.js`, –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –≤ `/var/www/html/`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `List` –≤ `rosreestr_client.py`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**

**Disk persistence (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö):**
- `orchestrator._save_lots_to_disk()` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ—Ç—ã –≤ `/app/data/raw_lots/{ts}_lots.json` –î–û –∑–∞–ø–∏—Å–∏ –≤ –ë–î
- `orchestrator._process_pending_lots_from_disk()` ‚Äî –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –±–µ–∑ `.done` –º–∞—Ä–∫–µ—Ä–∞
- `.done` –º–∞—Ä–∫–µ—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –ë–î

**TASK-004: –°–∫–æ—Ä–∏–Ω–≥:**
- ‚úÖ `src/logic/scorer.py` ‚Äî –∫–ª–∞—Å—Å `DealScorer` —Å —Ñ–æ—Ä–º—É–ª–æ–π `deal_score = investment_score - fraud_score * 0.6`
- ‚úÖ `deal_score Numeric(5,1)` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –º–æ–¥–µ–ª—å `Lot`
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `8613b61acc8b` –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –≤ –ë–î
- ‚úÖ `orchestrator._score_and_notify_lot()` ‚Äî –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ—Ç–∞:
  - –≤—ã–∑—ã–≤–∞–µ—Ç `CheckoAPIClient.get_antifraud_flags(debtor_inn)`
  - —Å—á–∏—Ç–∞–µ—Ç —Å–∫–æ—Ä–∏–Ω–≥
  - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `deal_score` –≤ –ë–î
  - –ø—Ä–∏ `score >= 80` ‚Üí `notifier.send_lot_alert()`

**–õ–∏–º–∏—Ç—ã API:**
- `fedresurs daily_limit` —Å–Ω–∏–∂–µ–Ω –¥–æ **30** –¥–ª—è –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã ‚Üí –ø–æ–¥–Ω—è—Ç—å –¥–æ 240

**–°—Ç–∞—Ç—É—Å –Ω–∞ –∫–æ–Ω–µ—Ü —Å–µ—Å—Å–∏–∏ (23:50 –ú–°–ö):**
- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∂–¥—ë—Ç 00:00 UTC (3—á –ú–°–ö) ‚Äî —Å–±—Ä–æ—Å –ª–∏–º–∏—Ç–∞
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º: `daily_limit=30`, —Å–∫–æ—Ä–∏–Ω–≥ –≤–∫–ª—é—á—ë–Ω
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `fedr-app-1` up

**–ü–æ—Å–ª–µ 03:00 –ú–°–ö ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
docker logs fedr-app-1 2>&1 | grep -v resource_monitor | tail -60
docker exec fedr-db-1 psql -U postgres -d fedresurs_db \
  -c "SELECT id, description[:60], start_price, deal_score FROM lots ORDER BY deal_score DESC NULLS LAST LIMIT 10;"
```
–ï—Å–ª–∏ –ª–æ—Ç—ã –µ—Å—Ç—å –∏ deal_score –∑–∞–ø–æ–ª–Ω–µ–Ω ‚Üí –ø–æ–¥–Ω—è—Ç—å –ª–∏–º–∏—Ç –¥–æ 240:
`SEARCH_CONFIG["daily_limit"] = 240` –≤ `src/services/fedresurs_search.py`